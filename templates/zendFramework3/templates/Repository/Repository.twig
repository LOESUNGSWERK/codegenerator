<?php
/**
 * @copyright  Copyright (c) 2017 TraSo GmbH (www.traso.de)
 * @author     rkuehle
 * @since      11.05.17
 */

namespace {{modulName|ucf}}\Model\{{name|ucf}}\Repository;

use {{modulName|ucf}}\Model\{{name|ucf}}\Entity\{{name|ucf}}Entity;
use {{modulName|ucf}}\Model\{{name|ucf}}\Storage\{{name|ucf}}Storage;

/**
 * Class {{name|ucf}}Repository
 * @package {{modulName|ucf}}\Model\{{name|ucf}}\Repository;
 */
class {{name|ucf}}Repository
{
    /**
     * @var {{name|ucf}}Storage
     */
    private ${{name|lcf}}Storage;

    public function __construct({{name|ucf}}Storage ${{name|lcf}}Storage)
    {
        $this->{{name|lcf}}Storage = ${{name|lcf}}Storage;
    }

    /**
     * @param {{name|ucf}}Entity ${{name|lcf}}
     */
    public function save(${{name|lcf}})
    {
        if (!${{name|lcf}}->getId()) {
            return $this->{{name|lcf}}Storage->insert(${{name|ucf}});
        } else {
            return $this->{{name|lcf}}Storage->update(${{name|ucf}});
        }
    }


    /**
     * @param integer $id
     * @return {{name|ucf}}Entity
     */
    public function get{{name|ucf}}ById($id)
    {
        return $this->{{name|lcf}}Storage->getById($id);
    }


}