<?php
/**
 * @copyright  Copyright (c) 2017 TraSo GmbH (www.traso.de)
 * @author     rkuehle
 * @since      11.05.17
 */

namespace {{modulName|ucf}}\Model\{{tableName|ucf}}\Repository;

use {{modulName|ucf}}\Model\{{tableName|ucf}}\Entity\{{tableName|ucf}}Entity;
use {{modulName|ucf}}\Model\{{tableName|ucf}}\Storage\{{tableName|ucf}}Storage;

/**
 * Class {{tableName|ucf}}Repository
 * @package {{modulName|ucf}}\Model\{{tableName|ucf}}\Repository;
 */
class {{tableName|ucf}}Repository
{
    /**
     * @var {{tableName|ucf}}Storage
     */
    private ${{tableName|lcf}}Storage;

    public function __construct({{tableName|ucf}}Storage ${{tableName|lcf}}Storage)
    {
        $this->{{tableName|lcf}}Storage = ${{tableName|lcf}}Storage;
    }

    /**
     * @param {{tableName|ucf}}Entity ${{tableName|lcf}}
     */
    public function save(${{tableName|lcf}})
    {
        if (!${{tableName|lcf}}->getId()) {
            return $this->{{tableName|lcf}}Storage->insert(${{tableName|ucf}});
        } else {
            return $this->{{tableName|lcf}}Storage->update(${{tableName|ucf}});
        }
    }


    /**
     * @param integer $id
     * @return {{tableName|ucf}}Entity
     */
    public function get{{tableName|ucf}}ById($id)
    {
        return $this->{{tableName|lcf}}Storage->getById($id);
    }


}